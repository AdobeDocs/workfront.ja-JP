---
content-type: api
navigation-topic: general-api
title: Adobe Workfront API のリッチテキストフィールド
description: Adobe Workfront API のリッチテキストフィールド
author: Becky
feature: Workfront API
exl-id: 67fc34dc-0722-4419-8254-0371ad5abfc3
source-git-commit: f050c8b95145552c9ed67b549608c16115000606
workflow-type: tm+mt
source-wordcount: '756'
ht-degree: 0%

---


# Adobe Workfront API のリッチテキストフィールド

Adobe Workfrontの一部のオブジェクトでは、リッチテキスト形式のテキストを格納できます。 Workfront API のリッチテキストは、オープンソースフレームワーク Draft.js を使用して JSON として保存されます。

## 概要の例

リッチテキスト形式のカスタムフィールドは、と呼ばれます。 **リッチテキストを含むフィールド** には、次の値を関連付けることができます。

![](assets/rich-text-example-350x158.png)

**例：** カスタムフォームフィールドの値を取得するための基本的なGETリクエスト **リッチテキストを含むフィールド**:

<!-- [Copy](javascript:void(0);) -->
<pre><OBJ Code><OBJ ID><OBJ Code><OBJ ID></pre>

**例：** このリクエストは、 **リッチテキストを含むフィールド** JSON 形式で **parameterValue** **DE：リッチテキストを含むフィールド**

<!-- [Copy](javascript:void(0);) -->
<pre></pre>

**例：** これは、上の図に示す応答の形式設定されたバージョンです

<!-- [Copy](javascript:void(0);) -->
<pre></pre>

## ブロック

リッチテキストコンテンツを保存する JSON オブジェクトは、次の 2 つの主要部分で構成されます。 **ブロック** および **entityMaps**.

ブロックは、1 行の書式設定されたテキストを表す JSON オブジェクトです。 1 つのカスタムフィールドに複数行のテキストを含めることができるので、各テキスト行には独自のブロックがあり、各ブロックは親配列内の要素として表されます。 **ブロック**.

**例：** ここでは、カスタムフィールドの各行が、配列ブロック内のブロック要素にマッピングされます

![](assets/copy-of-rich-text-mapping-350x159.png)

各ブロック要素も JSON オブジェクトなので、各ブロックは次の要素で構成されます。 **key**, **テキスト**, **type**, **深さ**, **inlineStyleRanges**, **entityRanges**、および **データ**. これらの各要素は、次のように機能します。

* **キー** は、そのブロックの一意の識別子です。 キーは、 entityMaps を使用してテキスト行をマッピングするために使用されます。 entityMaps について詳しくは、このドキュメントの entityMaps の節を参照してください。
* **テキスト** は、カスタムフィールドから保存されるテキストコンテンツの行です。
* **タイプ** 表示されるテキストの種類を示します。 例えば、ブロックに格納されているテキスト行は、リストの一部にすることができます。 その行のテキストが順序なしリストに含まれている場合、そのタイプは次のように定義されます。unordered-list-item
* リストは現在サポートされていませんが、近日中に利用可能になる予定です。
* **深さ** このパラメータは、線が順序付きリストまたは順序なしリストのネストされた部分である場合の線の深さを定義します。
* **inlineStyleRanges** 現在のブロックで表されるテキスト行に適用された書式の種類を示す配列です。

**例：** 次に、文字レベルの各スタイルを説明する inlineStyleRanges 配列を示します。 この場合、次のようになります。9 文字 ( 長さ：9) インデックス 0 から始まる ( オフセット：0) のスタイル **太字** 適用済み：

![](assets/copy-of-rich-text-mapping-2-350x136.png)

複数のタイプの書式が 1 行に適用されている場合、スタイルは**inlineStyleRanges**配列内の追加の要素にマッピングされます。

**例：** 混合書式を含むテキスト行を保存すると、ブロックは次のようになります。 **太字テキストと斜体**

<!-- [Copy](javascript:void(0);) -->
<pre></pre>

>[!NOTE]
>
>20.3 リリース以降のすべてのバージョンでは、太字、斜体および下線の書式設定オプションがサポートされます。

## entityMaps と entityRanges

データブロックには、ハイパーリンクや、カスタムテキストフィールドの外部にあるデータソースに接続されるその他のタイプのスタイル設定形式設定などのエンティティが含まれている可能性があります。

## 例

### JSON からのプレーンテキストの取得

リッチテキスト形式のカスタムフィールドが送信されると、すべてのテキストが配列に保存されます **ブロック**. ただし、全文の各行は **テキストパラメーター** は、親配列を構成する個々のブロック要素の内部にあります。 **ブロック**. したがって、テキスト全体を取得するには、各個別のテキスト行を抽出し、分割して戻す必要があります。 これは、ブロック内のすべての要素をループし、各テキストパラメーターを連結して行区切り文字 (\n) を付けることで実現できます。

**例：** JS は次のようになります。

<!-- [Copy](javascript:void(0);) -->
<pre></pre>

### Workfront API を使用したリッチテキストフィールド値の保存

Workfront API を使用してリッチテキストフィールドの次の値を保存するには：
<pre>
		こんにちは <strong>World</strong>!!!
		これが初めてです <strong>リッチテキスト</strong></pre>

1. 各テキスト行をブロック要素に配列し、取得しようとしているリッチテキストフィールドの値を表す JSON を作成します。 **ブロック**

   <!-- [Copy](javascript:void(0);) -->
   <pre></pre>

1. を使用してリッチテキストの書式設定を取り込む **inlineStyleRanges** パラメータ

   <!-- [Copy](javascript:void(0);) -->
   <pre></pre>

1. 2 行目を取り込むには、「リッチテキスト」というテキストを太字と斜体の両方で書式設定する必要があります。

   <!-- [Copy](javascript:void(0);) -->
   <pre></pre>

   >[!NOTE]
   >
   >最初のリリースでは entityMap 機能はサポートされていませんが、リクエストでこの JSON を渡すには、引き続き必須フィールドです

1. 以下を使用： **stringify** メソッドを使用して **PUT** 更新のリクエストと送信

   <!-- [Copy](javascript:void(0);) -->
   <pre><OBJ Code><OBJ ID></pre>
