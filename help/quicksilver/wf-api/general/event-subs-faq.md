---
content-type: api;faq
navigation-topic: general-api
title: FAQ — イベント購読
description: FAQ — イベント購読
author: John
feature: Workfront API
exl-id: a6120939-5d76-4f46-a304-125de6b22502
source-git-commit: f2f825280204b56d2dc85efc7a315a4377e551c7
workflow-type: tm+mt
source-wordcount: '937'
ht-degree: 0%

---

# FAQ — イベント購読

<!--
{{highlighted-preview}}
-->

イベント購読に関するよくある質問を次に示します。

## 購読とは

サブスクリプションとは、Adobe Workfrontイベントを照合し、顧客の HTTP エンドポイントに配信するために使用される一連のデータです。 このリソースは、次の 4 つの主要な属性で構成されています。

* customer_id
* obj_code
* obj_id
* url

また、サブスクリプションには、独自の一意の ID や作成日など、他の属性も含めることができますが、上記の属性は主にイベントを照合し顧客に配信するために使用されます。

## イベントペイロード内の特定の条件に基づいて、エンドポイントに送信されるイベントを選択できますか。

イベント購読フィルターを使用すると、イベント購読を指定した条件で並べ替えることができます。 エンドポイントで使用する必要のあるメッセージの数が大幅に減る可能性があるので、イベント購読にフィルターを適用することをお勧めします。 詳しくは、 [イベント購読のフィルタリング](../../wf-api/general/event-subs-api.md#event).

## API が 409 個の競合応答コードを返すのはなぜですか？

イベント購読を作成しようとして、応答コードを受け取った場合：409 個の競合が発生した場合、作成しようとしたサブスクリプションが重複しています。 Workfrontでは、重複する購読の作成は許可されていません。

## メッセージがエンドポイントに配信されない場合、管理者はどのように対処する必要がありますか？

次のシナリオを探し、推奨される解決策を使用します。

* サブスクリプションエンドポイント ( **url** フィールド — 2XX HTTP 応答コードを返します。 そうでない場合は、Workfrontサポートに問い合わせるか、 [イベント購読配信要件](../../wf-api/general/setup-event-sub-endpoint.md).

* イベント配信リクエストが完了する前にタイムアウトになる場合がありました。 エンドポイントで 5 秒以内に一貫した応答が返されるようにします。 HTTP リクエストがイベント購読メッセージを配信するためのデフォルトのタイムアウト設定です。 エンドポイントが 5 秒以内に応答しない場合は、Workfrontサポートに問い合わせるか、 [イベント購読配信要件](../../wf-api/general/setup-event-sub-endpoint.md).
* イベントは、考え方を生み出さない場合があります。 イベントの実行方法やタイミングを前提としないようにしてください。 例えば、タスクでドキュメントを更新すると、タスクの更新イベントが生成されますが、その代わりに、ドキュメントの作成イベントまたはドキュメントの更新イベントが生成されると考えられます。
* サブスクリプションが期待どおりに設定されていない可能性があります。 様々な環境でイベントサブスクリプションを作成し、他のWorkfrontデータと同様に転送されるようにします。 ただし、イベント購読データは、他の環境にコピーまたは昇格するように設定されていません。 正しい環境に API リクエストを発行していること、およびその環境のサブスクリプションが期待どおりに設定されていることを確認します。
* 必要なWorkfront IP アドレスがファイアウォール上のペイロードに追加されていないので、ペイロードを受許可リストけ取れませんでした。 イベント購読イベントは、一部の IP アドレスからのみ送信されます。 宛先ネットワークに、Workfrontイベントサブスクリプションからペイロードを受け取るのに必要な IP 例外がすべて含まれていることを確認します。

## メッセージがエンドポイントに到達するまでに、過度の時間がかかるのはなぜですか？

次のシナリオの一部が原因となる場合があります。

* システム内で大きな操作（一括更新など）を実行すると、大量のメッセージが一度にキューに入れられ、処理に時間がかかる場合があります。
* 大きなプロジェクトで長時間実行される計算やタイムラインの計算が原因で、イベント購読に対するメッセージの公開で処理が遅れる可能性がありました。
* 配信登録が無効になっている可能性があります。

   * 100 通のメッセージの猶予期間の後、1 つ以上のサブスクリプションに関連付けられた特定の URL が 70%以上失敗した場合、または 2000 回連続で失敗した場合、同じ URL に一致するすべてのメッセージは配信に試行されません。 代わりに、これらのメッセージは、再試行のためのキューに即座に格納されます。

      URL が無効になってから 10 分ごとに、処理を通知する次のメッセージの配信が試行されます。 そのメッセージが成功した場合は、その URL を再度有効にし、その後、一致する購読をすべて有効にします。 そのメッセージの送信に失敗した場合は、その 10 分のタイマーがリセットされ、有効期限が切れた後にもう一度試します。

      この動作は、一貫性のない配信または遅延した配信と見なされる可能性がありますが、単にイベント購読メッセージの処理方法に関するポリシーに従うだけです。

   * 次のいずれかの条件を満たす場合、イベント購読 URL はハードディセーブルになります。

      * 購読 URL は、7 日間配信に失敗し、過去 72 時間に少なくとも 2,000 回の連続配信試行に失敗しました。
      * サブスクリプション URL が 50,000 回連続で配信に失敗しました。

## イベント購読 API を呼び出そうとすると、500 応答ステータスが返された場合は、どうすればよいですか？

Workfrontサポートにお問い合わせください。 サポートへの問い合わせ方法については、 [カスタマーサポートに連絡](../../workfront-basics/tips-tricks-and-troubleshooting/contact-customer-support.md).

## Workfront Event Subscriptions では、様々な種類の認証を使用できますか？

bearer トークンを使用する任意の認証を使用できます。 この **authToken** 購読のフィールドは、 **url** フィールドに入力します。 理論的には、このトークン値は、宛先エンドポイントがエンコーディング（エンコーディング）の処理方法を認識している限り、何でもかまいません。 **utf-8**.

## Workfrontイベント購読からイベントペイロードを受け取るまで、どれくらいかかりますか？

一般に、ログに記録されるデータ変更から 5 秒未満でイベントサブスクリプションイベント配信要求を受け取ることが想定されます。 平均的に、Webhook 通知は、データが変更されてから 1 秒未満で受信されます。 ただし、サービスは大量のメッセージを受信するので、長くかかる場合があります。

## その他のリソース

* **API ドキュメント**: [イベント購読 API](../../wf-api/general/event-subs-api.md)

* **ベストプラクティス**: [イベント購読のベストプラクティス](../../wf-api/general/event-sub-best-practice.md)

* **イベント購読ペイロードをトリガーするフィールド**: [イベント購読リソースフィールド](../../wf-api/api/event-sub-resource-fields.md)

* **イベント購読の再試行について**: [イベント購読の再試行](../../wf-api/api/event-sub-retries.md)

* **Workfront用のファイアウォールの設定**: [ファイアウォールの設定を許可リスト行う](../../administration-and-setup/get-started-wf-administration/configure-your-firewall.md)
