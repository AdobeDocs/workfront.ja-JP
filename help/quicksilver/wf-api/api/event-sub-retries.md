---
content-type: api
navigation-topic: api-navigation-topic
title: イベント登録の再試行
description: イベント登録の再試行
author: Becky
feature: Workfront API
role: Developer
exl-id: b698cb60-4cff-4ccc-87d7-74afb5badc49
source-git-commit: 3e339e2bfb26e101f0305c05f620a21541394993
workflow-type: ht
source-wordcount: '548'
ht-degree: 100%

---

# イベント登録の再試行

メッセージ配信システムを実装する場合、安定性、一貫性、優れたユーザーエクスペリエンスを確保するために、いくつかの注意事項があります。メッセージ配信システムの問題点の 1 つとして、メッセージを宛先に正常に到達させること、およびメッセージが届かなかった場合にどのように対処するかを確認することがあります。

一部の統合では、配信の失敗を受け入れてから、メッセージをドロップして次のメッセージに移動する場合があります。その他の統合では、メッセージの配信に失敗したことを無視することはできません。例えば、財務統合はメッセージの配信を試みる場合がありますが、代わりに HTTP ステータスコード 404 を受信します。これは、サーバーがメッセージの配信先のエンドポイントを見つけられなかったことを示します。このような場合、メッセージが欠落しているということは、誰かが時間に対して賃金を支払っていないこと、または組織が契約リソースの予算を超過していることを意味する可能性があります。

## イベントサブスクリプションの再試行のための Adobe Workfront 戦略

顧客は Workfront プラットフォームを日々の知識作業の中核として活用するので、Workfront イベントサブスクリプションフレームワークは、各メッセージの配信を可能な限り確実に試行するメカニズムを提供します。

顧客のエンドポイントへの配信に失敗したイベントトリガーの送信メッセージは、最大 48 時間配信が成功するまで再送信されます。この間、配信が成功するか 48 時間が経過するまで、再試行の頻度は徐々に減っていきます。

顧客は、Workfront イベントサブスクリプションからの送信メッセージを消費するエンドポイントが、配信が成功したときに 200 レベルの応答メッセージを Workfront に返すように設定されていることを確認する必要があります。

## 失敗したイベントトリガー送信メッセージの処理

次のフローチャートに、Workfront イベントサブスクリプションを使用したメッセージ配信を再試行する戦略を示します。

![](assets/event-subscription-circuit-breaker-retries-350x234.png)

次の説明は、フローチャートに表示される手順に対応しています。

1. メッセージを配信できませんでした。
1. メッセージ配信エラー情報が記録されます。

   メッセージの配信に失敗した試みはすべて記録され、特定の失敗または一連の失敗の根本原因を特定するためのデバッグを実行できます。

1. URL の失敗が増加します。
1. メッセージの試行回数が増加します。
1. このメッセージの配信が再試行されるまでの遅延を計算します。
1. メッセージがメッセージ再試行キューに配置されました。

   前述のフローチャートに示すように、メッセージ配信の再試行を処理するためのメッセージキューは、各メッセージの最初の配信試行を処理するキューとは別のキューです。これにより、メッセージのサブセットの障害によって妨げられることなく、ほぼリアルタイムのメッセージフローを継続できます。

1. URL 回線の状態が評価されます。次のいずれかが発生します。

   * 回路が開いていていて、その時点で配信が許可されていない場合は、手順 5 でプロセスをやり直します。
   * 回線が半分開いている場合は、回線は現在開いていますが、URL への配信に関する問題が解決したかどうかを確認するために URL をテストできる十分な時間が経過していることを意味します。
   * メッセージ配信試行制限に達した場合（48 時間の再試行）、メッセージはドロップされます。

1. URL 回線が閉じられ、配信が許可されている場合は、メッセージの配信を試みます。この配信が失敗した場合、メッセージは手順 1 でやり直します。

1. URL 回線が閉じられ、配信が許可されている場合は、メッセージの配信を試みます。この配信が失敗した場合、メッセージは手順 1 でやり直します。

   <!--
   <li value="10" data-mc-conditions="QuicksilverOrClassic.Draft mode">Workfront disables Event Subscriptions when both of the following criteria are met:
   <ul>
   <!--
   <li data-mc-conditions="QuicksilverOrClassic.Draft mode">The Event Subscription has failed 1000 delivery attempts consecutively</li>
   <li data-mc-conditions="QuicksilverOrClassic.Draft mode">48 hours have passed since the last successful delivery</li>
   </ul></li>
   -->
