---
content-type: api
navigation-topic: api-navigation-topic
title: イベント購読の再試行
description: イベント購読の再試行
author: John
feature: Workfront API
exl-id: b698cb60-4cff-4ccc-87d7-74afb5badc49
source-git-commit: 606d19b8a83b833aba6d6b15231a8683aa2cee40
workflow-type: tm+mt
source-wordcount: '541'
ht-degree: 0%

---

# イベント購読の再試行

メッセージ配信システムを実装する場合、安定性、一貫性、優れたユーザーエクスペリエンスを確保するために、いくつかの注意事項があります。 メッセージ配信システムの欠点の 1 つは、メッセージが宛先に正常に到達すること、およびメッセージが届かなかった場合にどのように対処するかを確認することです。

一部の統合では、配信の失敗を受け入れてから、メッセージをドロップして次のメッセージに移動する場合があります。  その他の統合では、メッセージの配信に失敗したことを無視することはできません。 例えば、金融統合がメッセージの配信を試みると、代わりに 404 という HTTP ステータスコードを受け取り、メッセージが配信されるエンドポイントがサーバーで見つからなかったことを示す場合があります。 この場合、メッセージが見つからないと、誰かが時間の支払いを受けていないか、組織が契約リソースに対して予算を超過している可能性があります。

## Adobe Workfrontサブスクリプション再試行の方法

お客様はWorkfrontプラットフォームを日々の知識作業の中核として活用するので、Workfrontイベント購読フレームワークは、各メッセージの配信を可能な限り確実に試行するメカニズムを提供します。

顧客のエンドポイントへの配信に失敗したイベントトリガーの送信メッセージは、最大 48 時間配信が成功するまで再送信されます。 この間、再試行は、配信が成功するまで、または 48 時間が経過するまで、増分的に減少した頻度でおこなわれます。

配信が成功した場合、Workfrontイベント購読からのアウトバウンドメッセージを使用するエンドポイントが、200 レベルの応答メッセージをWorkfrontに返すように設定されていることを確認する必要があります。

## 失敗したイベントトリガーアウトバウンドメッセージの処理

次のフローチャートに、Workfront Event Subscriptions を使用したメッセージ配信を再試行する方法を示します。

![](assets/event-subscription-circuit-breaker-retries-350x234.png)

次の説明は、フローチャートに表示される手順に対応します。

1. メッセージを配信できませんでした。
1. メッセージ配信エラー情報がログに記録されます。

   メッセージの配信に失敗した試みはすべてログに記録され、特定の失敗または一連の失敗の根本原因を特定するためのデバッグを実行できます。

1. URL の失敗が増加します。
1. メッセージの試行回数が増加します。
1. このメッセージの配信が再試行されるまでの遅延を計算します。
1. メッセージがメッセージ再試行キューに配置されました。

   前述のフローチャートに示すように、メッセージ配信の再試行を処理するためのメッセージキューは、各メッセージの最初の配信試行を処理するキューとは別のキューです。 これにより、メッセージのサブセットの失敗によって妨げられない、ほぼリアルタイムでのメッセージフローを継続できます。

1. URL 回線の状態が評価されます。 次のいずれかが発生します。

   * 回路が開いていていて、その時点で配信が許可されていない場合は、手順 5 でプロセスを再起動します。
   * 回路が半開状態の場合は、回路が現在開いていますが、URL のテストに十分な時間が経過し、URL への配信に関する問題が解決したかどうかを確認できます。
   * メッセージ配信の試行が制限（48 時間再試行）に達した場合、メッセージは削除されます

1. URL 回線が閉じられ、配信が許可されている場合は、メッセージの配信を試みます。 この配信が失敗した場合、メッセージは手順 1 で再開します

1. URL 回線が閉じられ、配信が許可されている場合は、メッセージの配信を試みます。 この配信が失敗した場合、メッセージは手順 1 で再開します。

   <!--
   <li value="10" data-mc-conditions="QuicksilverOrClassic.Draft mode">Workfront disables Event Subscriptions when both of the following criteria are met:
   <ul>
   <!--
   <li data-mc-conditions="QuicksilverOrClassic.Draft mode">The Event Subscription has failed 1000 delivery attempts consecutively</li>
   <li data-mc-conditions="QuicksilverOrClassic.Draft mode">48 hours have passed since the last successful delivery</li>
   </ul></li>
   -->
